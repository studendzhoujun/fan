<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>scale</title>
	<style>
    *{margin:0;padding:0;}
   #box{width:400px;height:400px;border:1px solid red;position:absolute;left:50%;top:50%;margin-left:-200px;margin-top:-200px;}
   img{position:absolute;left:600px;top:200px;transition:1s all ease;}
   span{width:10px;height:10px;background:red;position:absolute;left:40px;top:40px;}
	</style>
	<script>
	   function addEvent(obj,sEv,fn){
             if(obj.addEventListener){
             	obj.addEventListener(sEv,fn,false)
             }else{
             	obj.attachEvent('on',sEv,fn)
             }
	   };
	   function addWheel(obj,fn){
	   	   function fnwheel(ev){
	   	   	var oEvent=ev||event;
	   	   	var beok=true;
	   	   	beok=oEvent.wheelDelta?oEvent.wheelDelta<1:oEvent.detail>1;
	   	   	fn&&fn(beok,oEvent);
	   	   	oEvent.preventDefault&&oEvent.preventDefault();
	   	   	return false;
	   	   }
	   	      if(window.navigator.userAgent.indexOf('Firefox')!=-1){
	   	      	addEvent(obj,'DOMMouseScroll',fnwheel)
	   	      }else{
	   	      	addEvent(obj,'mousewheel',fnwheel)
	   	      }
	   }
       window.onload=function(){
       	//var oBox=document.querySelector('#box');
       	var oImg=document.querySelector('img');
       	var scale=1;
       	/*oImg.onmousedown=function(ev){
       		var oEvent=ev||event;
       		var disX=oEvent.clientX-oImg.offsetLeft;
       		var disY=oEvent.clientY-oImg.offsetTop;
       		document.onmousemove=function(ev){
       			var oEvent=ev||event;

       			oImg.style.left=oEvent.clientX-disX+'px';
       			oImg.style.top=oEvent.clientY-disY+'px';
       		};
       		document.onmouseup=function(){
       			document.onmousemove=null;
       			document.onmouseup=null;
       			oImg.releaseCapture&&oImg.releaseCapture();
       		};
       		oImg.setCapture&&oImg.setCapture();
       		return false;
       	};*/
       	addWheel(document,function(dir,ev){
       		if(dir){
       			scale-=0.1;
       		}else{
               scale+=0.1;
       		}
       		if(scale<1){
       			scale=1
       		}
       		var nScale=scale.toFixed(2);
       		console.log(nScale);
       		document.title=ev.x+','+ev.y;
       		var oriX=ev.x-oImg.offsetLeft+'px';
       		var oriY=ev.y-oImg.offsetTop+'px';
       		oImg.style.WebkitTransformOrigin=oriX+' '+oriY;
       		oImg.style.WebkitTransform='scale('+nScale+','+nScale+')'
       	})
       };
	</script>
</head>
<body>
	
		<img src="2.jpg" />
		<span></span>
	
</body>
</html>